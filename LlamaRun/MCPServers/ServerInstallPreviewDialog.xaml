<ContentDialog
    x:Class="LlamaRun.MCPServers.ConfigPreviewDialog"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    Title="âš™ MCP Server Configuration"
    PrimaryButtonText="Save &amp; Install"
    SecondaryButtonText="Cancel"
    DefaultButton="Primary"
    CornerRadius="8">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="auto" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>
        <!-- Info bar at top -->
        <InfoBar Grid.Row="0"
                 Severity="Informational"
                 IsOpen="True"
                 Title="Review Configuration"
                 Message="You can edit the full MCP configuration JSON before installing."
                 Margin="0,0,0,8"/>

        <!-- JSON Editor Area -->
        <Border Grid.Row="1"
                Background="{ThemeResource TextControlBackground}"
                BorderBrush="{ThemeResource TextControlBorderBrush}"
                BorderThickness="1"
                CornerRadius="6"
                Padding="8">
            <ScrollViewer 
                          BringIntoViewOnFocusChange="False"
                          VerticalScrollBarVisibility="Auto" 
                          HorizontalScrollBarVisibility="Auto"
                          ZoomMode="Disabled">
                <TextBox x:Name="JsonEditor"
                         AcceptsReturn="True"
                         TextWrapping="NoWrap"
                         FontFamily="Consolas"
                         FontSize="14"
                         MinHeight="400"
                         BorderThickness="0"
                         Background="Transparent"
                         Style="{StaticResource EditableTextBlockStyle}"
                         ScrollViewer.VerticalScrollBarVisibility="Auto"
                         ScrollViewer.HorizontalScrollBarVisibility="Auto"/>
            </ScrollViewer>
        </Border>

    </Grid>
</ContentDialog>
